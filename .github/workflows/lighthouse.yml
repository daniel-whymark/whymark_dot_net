---
    name: Lighthouse
    permissions: read-all
    on:
      pull_request:
        branches:
          - "main"
      push:
        branches:
          - "main"
    jobs:
      lighthouse-check:
        runs-on: ubuntu-latest
        permissions:
          pull-requests: write
        steps:
          - uses: actions/checkout@master
          - name: Lighthouse
            uses: foo-software/lighthouse-check-action@master
            id: lighthouseCheck
            with:
              urls: 'https://preview.whymark.pages.dev/'
              device: all
              prCommentEnabled: false
              prCommentSaveOld: false
              gitHubAccessToken: ${{ secrets.GITHUB_TOKEN }}
          - name: Verify Lighthouse Check results
            uses: foo-software/lighthouse-check-status-action@master
            with:
              lighthouseCheckResults: ${{ steps.lighthouseCheck.outputs.lighthouseCheckResults }}
              minAccessibilityScore: "90"
              minBestPracticesScore: "90"
              minPerformanceScore: "90"
              minSeoScore: "90"